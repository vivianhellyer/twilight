<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `twilight_gateway` crate."><meta name="keywords" content="rust, rustlang, rust-lang, twilight_gateway"><title>twilight_gateway - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../twilight_gateway/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate twilight_gateway</p><div class='block version'><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all twilight_gateway's items</p></a><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'twilight_gateway', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/twilight_gateway/lib.rs.html#1-116' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>twilight_gateway</a></span></h1><div class='docblock'><h1 id="twilight-gateway" class="section-header"><a href="#twilight-gateway">twilight-gateway</a></h1>
<p><code>twilight-gateway</code> is an implementation of Discord's sharding gateway sessions.
This is responsible for receiving stateful events in real-time from Discord
and sending <em>some</em> stateful information.</p>
<p>It includes two primary types: the Shard and Cluster.</p>
<p>The Shard handles a single websocket connection and can manage up to 2500
guilds. If you manage a small bot in under about 2000 guilds, then this is
what you use. See the <a href="https://discord.com/developers/docs/topics/gateway#sharding">Discord docs</a> for more
information on sharding.</p>
<p>The Cluster is an interface which manages the health of the shards it
manages and proxies all of their events under one unified stream. This is
useful to use if you have a large bot in over 1000 or 2000 guilds.</p>
<h2 id="features" class="section-header"><a href="#features">Features</a></h2><h3 id="deserialization" class="section-header"><a href="#deserialization">Deserialization</a></h3>
<p><code>twilight-gateway</code> supports <a href="https://crates.io/crates/serde_json"><code>serde_json</code></a> and <a href="https://crates.io/crates/simd-json"><code>simd-json</code></a> for
deserializing and serializing events.</p>
<h4 id="simd-json" class="section-header"><a href="#simd-json"><code>simd-json</code></a></h4>
<p>The <code>simd-json</code> feature enables <a href="https://crates.io/crates/simd-json"><code>simd-json</code></a> support to use simd features
of modern cpus to deserialize responses faster. It is not enabled by
default.</p>
<p>To use this feature you need to also add these lines to
<code>&lt;project root&gt;/.cargo/config</code>:</p>
<pre><code class="language-toml">[build]
rustflags = [&quot;-C&quot;, &quot;target-cpu=native&quot;]
</code></pre>
<p>you can also use this environment variable <code>RUSTFLAGS=&quot;-C target-cpu=native&quot;</code>.</p>
<pre><code class="language-toml">[dependencies]
twilight-gateway = { branch = &quot;trunk&quot;, default-features = false, features = [&quot;rustls&quot;, &quot;simd-json&quot;], git = &quot;https://github.com/twilight-rs/twilight&quot; }
</code></pre>
<h3 id="tls" class="section-header"><a href="#tls">TLS</a></h3>
<p><code>twilight-gateway</code> has features to enable <a href="https://crates.io/crates/async-tungstenite"><code>async-tungstenite</code></a> and
<a href="https://twilight-rs.github.io/twilight/twilight_http/index.html"><code>twilight-http</code></a>'s TLS features. These features are mutually exclusive.
<code>rustls</code> is enabled by default.</p>
<h4 id="native" class="section-header"><a href="#native"><code>native</code></a></h4>
<p>The <code>native</code> feature enables <a href="https://crates.io/crates/async-tungstenite"><code>async-tungstenite</code></a>'s <code>tokio-native-tls</code>
feature as well as <a href="https://twilight-rs.github.io/twilight/twilight_http/index.html"><code>twilight-http</code></a>'s <code>native</code> feature which is mostly
equivalent to using <a href="https://crates.io/crates/native-tls"><code>native-tls</code></a>.</p>
<p>To enable <code>native</code>, do something like this in your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
twilight-gateway = { branch = &quot;trunk&quot;, default-features = false, features = [&quot;native&quot;], git = &quot;https://github.com/twilight-rs/twilight&quot; }
</code></pre>
<h4 id="rustls" class="section-header"><a href="#rustls"><code>rustls</code></a></h4>
<p>The <code>rustls</code> feature enables <a href="https://crates.io/crates/async-tungstenite"><code>async-tungstenite</code></a>'s <code>async-tls</code> feature and
<a href="https://twilight-rs.github.io/twilight/twilight_http/index.html"><code>twilight-http</code></a>'s <code>rustls</code> feature, which use <a href="https://crates.io/crates/rustls"><code>rustls</code></a> as the TLS backend.</p>
<p>This is enabled by default.</p>
</div><h2 id='reexports' class='section-header'><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>pub use self::cluster::<a class="struct" href="../twilight_gateway/cluster/struct.Cluster.html" title="struct twilight_gateway::cluster::Cluster">Cluster</a>;</code></td></tr><tr><td><code>pub use self::cluster::<a class="struct" href="../twilight_gateway/cluster/config/struct.ClusterConfig.html" title="struct twilight_gateway::cluster::config::ClusterConfig">ClusterConfig</a>;</code></td></tr><tr><td><code>pub use self::event::EventTypeFlags;</code></td></tr><tr><td><code>pub use self::shard::<a class="struct" href="../twilight_gateway/shard/struct.Shard.html" title="struct twilight_gateway::shard::Shard">Shard</a>;</code></td></tr><tr><td><code>pub use self::shard::<a class="struct" href="../twilight_gateway/shard/config/struct.ShardConfig.html" title="struct twilight_gateway::shard::config::ShardConfig">ShardConfig</a>;</code></td></tr><tr><td><code>pub use twilight_model::gateway::event::<a class="enum" href="../twilight_model/gateway/event/enum.Event.html" title="enum twilight_model::gateway::event::Event">Event</a>;</code></td></tr><tr><td><code>pub use twilight_model::gateway::event::<a class="enum" href="../twilight_model/gateway/event/kind/enum.EventType.html" title="enum twilight_model::gateway::event::kind::EventType">EventType</a>;</code></td></tr></table><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="cluster/index.html" title='twilight_gateway::cluster mod'>cluster</a></td><td class='docblock-short'><p>The cluster is a manager for running and maintaing multiple shards, bringing
their event streams into one unified stream.</p>
</td></tr><tr class='module-item'><td><a class="mod" href="queue/index.html" title='twilight_gateway::queue mod'>queue</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="mod" href="shard/index.html" title='twilight_gateway::shard mod'>shard</a></td><td class='docblock-short'><p>Types for working with and running connections to the gateway.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "twilight_gateway";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>